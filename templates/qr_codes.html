{% extends "layout.html" %}
<style type="text/css">
     mark{
        background: lime;
        color:      black;
        padding:    0;
     }
</style>
{% block nav_form %}
  <form class="form-inline my-2 my-lg-0">
    <input class="form-control mr-sm-2"  name="keyword"  type="text" id="search_me" placeholder="Search on page" aria-label="Search">
    <button id="btnExport" onclick="Export('qr', 'qr_codes.pdf')" class="btn btn-outline-success my-2 my-sm-0 hide_mobile" type="button">Export table to pdf</button>
  </form>
{% endblock %}

{% block content %}
    <div class="container context">
      {% if inventory_data|length %}
        <table class="table table-responsive-lg table-bordered table-hover" id="qr" style="background-color: white">
            <thead class="thead-dark">
              <tr>
                 <th class="hide_mobile" scope="col">User</th>
                 <th scope="col">Type</th>        
                 <th scope="col">QR</th>          
              </tr>
            </thead>
            <tbody>
              {% for i in inventory_data %}
                  <tr>
                    <td>{{ i['UserName'] }}</td>
                    <td>{{ i['type'] }}</td>
                    <td><div id="{{ i['InvID'] }}"></div></td>
                  </tr>
              {% endfor %}
            </tbody>
          </table>
      {% else %}
          <p><h3>Inventory data is empty, click <a href="{{ url_for('index') }}">here</a> for add new data</h1></p>
      {% endif %}  
    </div>
    
{% endblock %}

{% block scripts %}
  {% autoescape false %}
    <script type="text/javascript"> 
        user_data = {{ inventory_data }}
        for (let i of user_data){
              new QRCode(document.getElementById(i['InvID']), i['InvID']);
        }
    </script>
  {% endautoescape %}
{% endblock %}
